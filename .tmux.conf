# set-option -g mouse-select-pane on
# set-option -g mouse-select-window on
# set-window-option -g mode-mouse on

# make things work like outside of tmux
set -g default-command "reattach-to-user-namespace -l bash"

# use vi mode
setw -g mode-keys vi

# remap prefix to Control + a
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# On window close, renumber the windows
set -g renumber-windows on

# make first window index be 1
set -g base-index 1

# make first pane index be 1
set -g pane-base-index 1

# force reload of the config file
unbind r
bind r source-file ~/.tmux.conf \; display "Reloaded ~/.tmux.conf"

# Split pane horizontal with Ctrl-a -
bind - split-window -v -c "#{pane_current_path}"

# Split pane vertical with Ctrl-a |
bind | split-window -h -c "#{pane_current_path}"

# Create a new window at the same path as current pane
bind c new-window -c "#{pane_current_path}"

# Select previous window wtih Ctrl-a Ctrl-h
bind -r C-h select-window -t :-

# Select next window wtih Ctrl-a Ctrl-l
bind -r C-l select-window -t :+

# move around panes like in vim
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind h select-pane -L

# resize panes with Ctrl-a Shift-(j,k,h,l)
bind -r J resize-pane -D 2
bind -r K resize-pane -U 2
bind -r L resize-pane -R 4
bind -r H resize-pane -L 4

# Mouse can select pane, window and also resize window
set -g mouse-select-pane off
set -g mouse-resize-pane off
set -g mouse-select-window off

# Make tmux use 256color
set -g default-terminal "xterm-256color"

# sane scrolling
set -g mode-mouse on

# lower repeat timeout
set -g repeat-time 500

# Setup powerline
# source '/Users/joeytrapp/Library/Python/2.7/lib/python/site-packages/powerline/bindings/tmux/powerline.conf'

# Status bar
set -g status-utf8 on
set -g status-interval 2
set -g status-position top
set -g pane-border-fg colour7
set -g pane-border-bg colour0
set -g pane-active-border-fg colour7
set -g pane-active-border-bg colour0
set -g message-bg colour7
# set -g status-justify centre
# set -g status-right '#(powerline tmux right)'
set -g status-left-length 40
set -g status-bg colour0
set -g status-fg colour253
set -g status-right "#(tmux_battery)  #[fg=colour8]%I:%M %m/%d/%Y #[default]"
set -g status-left ' #[fg=colour13]#(whoami)#[fg=colour8]:#[fg=colour12]#S #[default]'
set-window-option -g window-status-format '#I: #W#F'
set-window-option -g window-status-fg colour15
set-window-option -g window-status-current-fg colour10
set-window-option -g window-status-current-bg colour0
set-window-option -g window-status-current-format '#I: #W#F'

##CLIPBOARD selection integration
##Requires prefix key before the command key
#Copy tmux paste buffer to CLIPBOARD
bind C-c run "tmux show-buffer | xclip -i -selection clipboard"
#Copy CLIPBOARD to tmux paste buffer and paste tmux paste buffer
bind C-v run "tmux set-buffer -- \"$(xclip -o -selection clipboard)\"; tmux paste-buffer"
